<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é•¿å›¾OCRç³»ç»Ÿ - çœŸå®å¤„ç†æµç¨‹å›¾</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .title {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .subtitle {
            font-size: 1.2em;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        .flowchart {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin: 40px 0;
        }

        .step {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.3);
            width: 100%;
            max-width: 800px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .step:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(52, 152, 219, 0.4);
        }

        .step.preprocessing {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.3);
        }

        .step.preprocessing:hover {
            box-shadow: 0 15px 35px rgba(231, 76, 60, 0.4);
        }

        .step.parallel {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            box-shadow: 0 8px 25px rgba(243, 156, 18, 0.3);
        }

        .step.parallel:hover {
            box-shadow: 0 15px 35px rgba(243, 156, 18, 0.4);
        }

        .step.processing {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            box-shadow: 0 8px 25px rgba(155, 89, 182, 0.3);
        }

        .step.processing:hover {
            box-shadow: 0 15px 35px rgba(155, 89, 182, 0.4);
        }

        .step.llm {
            background: linear-gradient(135deg, #1abc9c, #16a085);
            box-shadow: 0 8px 25px rgba(26, 188, 156, 0.3);
        }

        .step.llm:hover {
            box-shadow: 0 15px 35px rgba(26, 188, 156, 0.4);
        }

        .step.output {
            background: linear-gradient(135deg, #27ae60, #229954);
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.3);
        }

        .step.output:hover {
            box-shadow: 0 15px 35px rgba(39, 174, 96, 0.4);
        }

        .step-number {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            margin-right: 15px;
            font-size: 1.2em;
        }

        .step-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .step-description {
            font-size: 1em;
            opacity: 0.9;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .step-tech {
            font-size: 0.9em;
            opacity: 0.8;
            font-style: italic;
        }

        .arrow {
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 20px solid #3498db;
            margin: 10px 0;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        .parallel-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            width: 100%;
            max-width: 800px;
        }

        .parallel-step {
            flex: 1;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(243, 156, 18, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .parallel-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(243, 156, 18, 0.4);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 30px;
        }

        .tech-tag {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
            box-shadow: 0 4px 10px rgba(102, 126, 234, 0.3);
        }

        .note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            color: #856404;
        }

        .note-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #d63031;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">ğŸ” é•¿å›¾OCRç³»ç»Ÿ</h1>
            <p class="subtitle">åŸºäºä»£ç åˆ†æçš„çœŸå®å¤„ç†æµç¨‹å›¾ | å¾®ä¿¡èŠå¤©è®°å½•æ™ºèƒ½è¯†åˆ«ä¸ç»“æ„åŒ–</p>
        </div>

        <div class="flowchart">
            <!-- æ­¥éª¤1: ç³»ç»Ÿåˆå§‹åŒ– -->
            <div class="step" onclick="showDetails(1)">
                <span class="step-number">1</span>
                <div style="display: inline-block; width: calc(100% - 55px);">
                    <div class="step-title">ğŸš€ ç³»ç»Ÿåˆå§‹åŒ–</div>
                    <div class="step-description">åŠ è½½é…ç½®æ–‡ä»¶ï¼Œåˆå§‹åŒ–å„ä¸ªå¤„ç†æ¨¡å—ï¼Œè®¾ç½®è¾“å‡ºç›®å½•</div>
                    <div class="step-tech">ğŸ“ æ¨¡å—: main.py, config.py | ğŸ”§ æŠ€æœ¯: Pythoné…ç½®ç®¡ç†</div>
                </div>
            </div>
            <div class="arrow"></div>

            <!-- æ­¥éª¤2: å›¾åƒé¢„å¤„ç† -->
            <div class="step preprocessing" onclick="showDetails(2)">
                <span class="step-number">2</span>
                <div style="display: inline-block; width: calc(100% - 55px);">
                    <div class="step-title">ğŸ–¼ï¸ å›¾åƒé¢„å¤„ç†</div>
                    <div class="step-description">è¯»å–é•¿å›¾ï¼Œè¿›è¡Œå°ºå¯¸è°ƒæ•´ã€å™ªå£°å»é™¤ã€å¯¹æ¯”åº¦å¢å¼ºç­‰é¢„å¤„ç†æ“ä½œ</div>
                    <div class="step-tech">ğŸ“ æ¨¡å—: long_image_ocr.py | ğŸ”§ æŠ€æœ¯: OpenCVå›¾åƒå¤„ç†</div>
                </div>
            </div>
            <div class="arrow"></div>

            <!-- æ­¥éª¤3: æ™ºèƒ½å›¾åƒåˆ†å‰² -->
            <div class="step preprocessing" onclick="showDetails(3)">
                <span class="step-number">3</span>
                <div style="display: inline-block; width: calc(100% - 55px);">
                    <div class="step-title">âœ‚ï¸ æ™ºèƒ½å›¾åƒåˆ†å‰²</div>
                    <div class="step-description">æŒ‰èŠå¤©æ¶ˆæ¯è¾¹ç•Œæ™ºèƒ½åˆ†å‰²é•¿å›¾ï¼Œç”Ÿæˆå¤šä¸ªå­å›¾åƒç‰‡æ®µ</div>
                    <div class="step-tech">ğŸ“ æ¨¡å—: image_slicer.py | ğŸ”§ æŠ€æœ¯: è¾¹ç¼˜æ£€æµ‹ã€è½®å»“åˆ†æ</div>
                </div>
            </div>
            <div class="arrow"></div>

            <!-- æ­¥éª¤4: å¹¶è¡Œå¤„ç† -->
            <div class="parallel-container">
                <div class="parallel-step" onclick="showDetails('4a')">
                    <div class="step-title">ğŸ‘¤ å¤´åƒæ£€æµ‹</div>
                    <div class="step-description">æ£€æµ‹å¹¶æå–èŠå¤©ä¸­çš„å¤´åƒä½ç½®ä¿¡æ¯</div>
                    <div class="step-tech">ğŸ“ avatar_detector.py</div>
                </div>
                <div class="parallel-step" onclick="showDetails('4b')">
                    <div class="step-title">ğŸ“ OCRæ–‡å­—è¯†åˆ«</div>
                    <div class="step-description">å¯¹åˆ†å‰²åçš„å›¾åƒè¿›è¡Œæ–‡å­—è¯†åˆ«</div>
                    <div class="step-tech">ğŸ“ ocr_processor.py</div>
                </div>
            </div>
            <div class="arrow"></div>

            <!-- æ­¥éª¤5: åŒé‡å»é‡å¤„ç† -->
            <div class="step processing" onclick="showDetails(5)">
                <span class="step-number">5</span>
                <div style="display: inline-block; width: calc(100% - 55px);">
                    <div class="step-title">ğŸ”„ åŒé‡å»é‡å¤„ç†</div>
                    <div class="step-description">åŒæ—¶å¯¹OCRæ–‡æœ¬å’Œå¤´åƒæ£€æµ‹ç»“æœè¿›è¡Œå»é‡ï¼Œå»é™¤é‡å¤çš„è¯†åˆ«ç»“æœï¼Œä¿ç•™æœ€ä¼˜è´¨çš„æ•°æ®</div>
                    <div class="step-tech">ğŸ“ æ¨¡å—: deduplicator.py | ğŸ”§ æŠ€æœ¯: æ–‡æœ¬ç›¸ä¼¼åº¦ç®—æ³•ã€å¤´åƒä½ç½®å»é‡ã€ç½®ä¿¡åº¦è¯„ä¼°</div>
                </div>
            </div>
            <div class="arrow"></div>

            <!-- æ­¥éª¤6: å†…å®¹æ™ºèƒ½æ ‡è®°ä¸å¤´åƒåŒ¹é… -->
            <div class="step processing" onclick="showDetails(6)">
                <span class="step-number">6</span>
                <div style="display: inline-block; width: calc(100% - 55px);">
                    <div class="step-title">ğŸ·ï¸ å†…å®¹æ™ºèƒ½æ ‡è®°ä¸å¤´åƒåŒ¹é…</div>
                    <div class="step-description">åŸºäºå¤´åƒä½ç½®æ ‡è®°æ˜µç§°å’Œå†…å®¹ï¼Œé€šè¿‡é¢œè‰²æ£€æµ‹è¯†åˆ«"æˆ‘çš„å†…å®¹"ï¼ŒåŒæ—¶å®Œæˆç”¨æˆ·èº«ä»½å…³è”</div>
                    <div class="step-tech">ğŸ“ æ¨¡å—: content_marker.py | ğŸ”§ æŠ€æœ¯: å¤´åƒä½ç½®åŒ¹é…ã€é¢œè‰²æ£€æµ‹ã€å†…å®¹åˆ†ç±»ã€ç”¨æˆ·èº«ä»½å…³è”</div>
                </div>
            </div>
            <div class="arrow"></div>

            <!-- æ­¥éª¤7: èŠå¤©æ•°æ®ç»„ç»‡ -->
            <div class="step processing" onclick="showDetails(7)">
                <span class="step-number">7</span>
                <div style="display: inline-block; width: calc(100% - 55px);">
                    <div class="step-title">ğŸ“‹ èŠå¤©æ•°æ®ç»„ç»‡</div>
                    <div class="step-description">å°†æ ‡è®°åçš„æ–‡æœ¬ç»„ç»‡æˆç»“æ„åŒ–çš„èŠå¤©æ¶ˆæ¯ï¼Œé‡å»ºæ—¶é—´åºåˆ—</div>
                    <div class="step-tech">ğŸ“ æ¨¡å—: chat_organizer.py | ğŸ”§ æŠ€æœ¯: æ•°æ®ç»“æ„åŒ–ã€æ—¶é—´åºåˆ—é‡å»º</div>
                </div>
            </div>
            <div class="arrow"></div>

            <!-- æ­¥éª¤8: LLMæ™ºèƒ½å¤„ç† -->
            <div class="step llm" onclick="showDetails(8)">
                <span class="step-number">8</span>
                <div style="display: inline-block; width: calc(100% - 55px);">
                    <div class="step-title">ğŸ¤– LLMæ™ºèƒ½é—®ç­”</div>
                    <div class="step-description">åŸºäºç»“æ„åŒ–èŠå¤©æ•°æ®ï¼Œä½¿ç”¨æœ¬åœ°Ollamaæ¨¡å‹å›ç­”ç”¨æˆ·é—®é¢˜</div>
                    <div class="step-tech">ğŸ“ æ¨¡å—: LLM_run.py | ğŸ”§ æŠ€æœ¯: Ollama APIã€qwen3:8bæ¨¡å‹ã€æ™ºèƒ½é—®ç­”</div>
                </div>
            </div>
            <div class="arrow"></div>

            <!-- æ­¥éª¤9: ç»“æœå¯¼å‡º -->
            <div class="step output" onclick="showDetails(9)">
                <span class="step-number">9</span>
                <div style="display: inline-block; width: calc(100% - 55px);">
                    <div class="step-title">ğŸ“¤ ç»“æœå¯¼å‡º</div>
                    <div class="step-description">å¯¼å‡ºJSONæ ¼å¼çš„ç»“æ„åŒ–èŠå¤©æ•°æ®ï¼Œç”Ÿæˆè°ƒè¯•å›¾åƒå’Œç»Ÿè®¡æŠ¥å‘Š</div>
                    <div class="step-tech">ğŸ“ æ¨¡å—: data_exporter.py | ğŸ”§ æŠ€æœ¯: JSONåºåˆ—åŒ–ã€è°ƒè¯•å¯è§†åŒ–</div>
                </div>
            </div>
        </div>

        <!-- ç»Ÿè®¡ä¿¡æ¯ -->
        <div class="stats">
            <div class="stat-item">
                <div class="stat-number">9</div>
                <div class="stat-label">å¤„ç†æ­¥éª¤</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">8</div>
                <div class="stat-label">æ ¸å¿ƒæ¨¡å—</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">1</div>
                <div class="stat-label">å¹¶è¡Œå¤„ç†</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">3</div>
                <div class="stat-label">AIæŠ€æœ¯</div>
            </div>
        </div>

        <!-- æŠ€æœ¯æ ˆ -->
        <div class="tech-stack">
            <span class="tech-tag">Python</span>
            <span class="tech-tag">OpenCV</span>
            <span class="tech-tag">OCRè¯†åˆ«</span>
            <span class="tech-tag">å›¾åƒå¤„ç†</span>
            <span class="tech-tag">æ–‡æœ¬å»é‡</span>
            <span class="tech-tag">é¢œè‰²æ£€æµ‹</span>
            <span class="tech-tag">Ollama</span>
            <span class="tech-tag">å¤§è¯­è¨€æ¨¡å‹</span>
            <span class="tech-tag">JSONå¯¼å‡º</span>
        </div>

        <!-- é‡è¦è¯´æ˜ -->
        <div class="note">
            <div class="note-title">ğŸ“‹ åŸºäºçœŸå®ä»£ç çš„æµç¨‹è¯´æ˜ï¼š</div>
            <p><strong>1. å¹¶è¡Œå¤„ç†ï¼š</strong> å¤´åƒæ£€æµ‹å’ŒOCRè¯†åˆ«åŒæ—¶è¿›è¡Œï¼Œæé«˜å¤„ç†æ•ˆç‡</p>
            <p><strong>2. å»é‡ä¼˜å…ˆï¼š</strong> æ–‡æœ¬å»é‡åœ¨å¤´åƒåŒ¹é…ä¹‹å‰ï¼Œç¡®ä¿æ•°æ®è´¨é‡</p>
            <p><strong>3. æ™ºèƒ½æ ‡è®°ï¼š</strong> åŸºäºé¢œè‰²æ£€æµ‹å’Œä½ç½®æ¨ç†è¯†åˆ«"æˆ‘çš„å†…å®¹"</p>
            <p><strong>4. LLMé›†æˆï¼š</strong> ä½¿ç”¨æœ¬åœ°Ollamaçš„qwen3:8bæ¨¡å‹è¿›è¡Œæ™ºèƒ½é—®ç­”</p>
            <p><strong>5. ç»“æ„åŒ–è¾“å‡ºï¼š</strong> æœ€ç»ˆç”Ÿæˆå®Œæ•´çš„JSONæ ¼å¼èŠå¤©æ•°æ®</p>
        </div>
    </div>

    <script>
        function showDetails(stepNumber) {
            const details = {
                1: "ç³»ç»Ÿå¯åŠ¨æ—¶åŠ è½½config.pyä¸­çš„é…ç½®å‚æ•°ï¼Œåˆå§‹åŒ–è¾“å‡ºç›®å½•ç»“æ„ï¼Œå‡†å¤‡å„ä¸ªå¤„ç†æ¨¡å—ã€‚",
                2: "ä½¿ç”¨OpenCVå¯¹è¾“å…¥çš„é•¿å›¾è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°ºå¯¸è°ƒæ•´ã€å™ªå£°å»é™¤ç­‰æ“ä½œã€‚",
                3: "image_slicer.pyæ¨¡å—æ™ºèƒ½åˆ†æå›¾åƒï¼ŒæŒ‰èŠå¤©æ¶ˆæ¯è¾¹ç•Œè¿›è¡Œåˆ†å‰²ã€‚",
                '4a': "avatar_detector.pyæ£€æµ‹å›¾åƒä¸­çš„å¤´åƒä½ç½®ï¼Œæå–å¤´åƒç‰¹å¾ã€‚",
                '4b': "ocr_processor.pyå¯¹åˆ†å‰²åçš„å›¾åƒç‰‡æ®µè¿›è¡Œæ–‡å­—è¯†åˆ«ã€‚",
                5: "deduplicator.pyåŒæ—¶å¯¹OCRæ–‡æœ¬å’Œå¤´åƒæ£€æµ‹ç»“æœè¿›è¡Œå»é‡å¤„ç†ï¼š1)å»é™¤é‡å¤çš„æ–‡æœ¬è¯†åˆ«ç»“æœ 2)å»é™¤é‡å¤çš„å¤´åƒä½ç½®ä¿¡æ¯ï¼Œä¿ç•™æœ€é«˜è´¨é‡çš„æ•°æ®ã€‚",
                6: "content_marker.pyåŸºäºå¤´åƒä½ç½®è¿›è¡Œå†…å®¹æ™ºèƒ½æ ‡è®°ï¼š1)æ ‡è®°æ—¶é—´ã€æ˜µç§°ã€å†…å®¹ç±»å‹ 2)é€šè¿‡é¢œè‰²æ£€æµ‹è¯†åˆ«'æˆ‘çš„å†…å®¹' 3)å®Œæˆå¤´åƒåŒ¹é…å’Œç”¨æˆ·èº«ä»½å…³è”ã€‚è¿™ä¸ªæ­¥éª¤å°†å¤´åƒåŒ¹é…å’Œå†…å®¹æ ‡è®°åˆå¹¶å¤„ç†ã€‚",
                7: "chat_organizer.pyå°†æ ‡è®°åçš„æ–‡æœ¬ç»„ç»‡æˆç»“æ„åŒ–çš„èŠå¤©æ¶ˆæ¯æ ¼å¼ã€‚",
                8: "LLM_run.pyè°ƒç”¨æœ¬åœ°Ollamaçš„qwen3:8bæ¨¡å‹ï¼ŒåŸºäºèŠå¤©æ•°æ®å›ç­”ç”¨æˆ·é—®é¢˜ã€‚",
                9: "data_exporter.pyå¯¼å‡ºJSONæ ¼å¼çš„ç»“æ„åŒ–æ•°æ®ï¼Œç”Ÿæˆè°ƒè¯•å›¾åƒã€‚"
            };
            
            alert(`æ­¥éª¤ ${stepNumber} è¯¦æƒ…ï¼š\n\n${details[stepNumber]}`);
        }

        // æ·»åŠ ç‚¹å‡»åŠ¨ç”»æ•ˆæœ
        document.querySelectorAll('.step, .parallel-step').forEach(step => {
            step.addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        });
    </script>
</body>
</html>